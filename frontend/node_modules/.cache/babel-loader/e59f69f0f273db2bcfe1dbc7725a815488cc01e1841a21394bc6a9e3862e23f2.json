{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\E_T\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst URL = \"http://localhost:5077/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const addIncome = async income => {\n    const addIncome = async income => {\n      try {\n        const response = await axios.post(`${URL}add-income`, income);\n        getIncomes(); // Only call getIncomes after a successful POST\n      } catch (error) {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          if (error.response.data && error.response.data.message) {\n            setError(error.response.data.message);\n          } else if (error.response.data) {\n            // Server returned data but no 'message' property\n            setError(error.response.data); // Or handle it differently\n          } else {\n            setError(error.response.statusText || \"An unknown error occurred.\");\n          }\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          setError(\"No response received from the server.\");\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          setError(\"Error setting up the request: \" + error.message);\n        }\n      }\n    };\n  };\n  const getIncomes = async () => {\n    const response = await axios.get(`${URL}get-incomes`);\n    setIncomes(response.data);\n    console.log(response.data);\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalProvider, \"sRm99PiA1mhV3u/JW/QBjyFd/HU=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","axios","jsxDEV","_jsxDEV","URL","GlobalContext","GlobalProvider","children","_s","incomes","setIncomes","expenses","setExpenses","error","setError","addIncome","income","response","post","getIncomes","data","message","statusText","request","get","console","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["C:/Users/Asus/Downloads/E_T/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react'\r\nimport axios from 'axios';\r\n\r\n\r\nconst URL=\"http://localhost:5077/api/v1/\";\r\n\r\n\r\nconst GlobalContext = React.createContext()\r\n\r\nexport const GlobalProvider=({children})=>{\r\n\r\nconst [incomes,setIncomes]=useState([])\r\nconst [expenses,setExpenses]=useState([])\r\nconst [error,setError]=useState(null)\r\n\r\nconst addIncome = async(income)=>{\r\n    const addIncome = async (income) => {\r\n        try {\r\n            const response = await axios.post(`${URL}add-income`, income);\r\n            getIncomes(); // Only call getIncomes after a successful POST\r\n        } catch (error) {\r\n            if (error.response) {\r\n                // The request was made and the server responded with a status code\r\n                // that falls out of the range of 2xx\r\n                if (error.response.data && error.response.data.message) {\r\n                    setError(error.response.data.message);\r\n                } else if (error.response.data) {\r\n                    // Server returned data but no 'message' property\r\n                    setError(error.response.data);  // Or handle it differently\r\n                } else {\r\n                    setError(error.response.statusText || \"An unknown error occurred.\");\r\n                }\r\n            } else if (error.request) {\r\n                // The request was made but no response was received\r\n                // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n                // http.ClientRequest in node.js\r\n                setError(\"No response received from the server.\");\r\n            } else {\r\n                // Something happened in setting up the request that triggered an Error\r\n                setError(\"Error setting up the request: \" + error.message);\r\n            }\r\n        }\r\n    };\r\n}\r\nconst getIncomes = async () => {\r\n    const response = await axios.get(`${URL}get-incomes`)\r\n    setIncomes(response.data)\r\n    console.log(response.data)\r\n}\r\n\r\n    return (\r\n        <GlobalContext.Provider value={{\r\n            addIncome\r\n        }}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport const useGlobalContext=()=>{\r\n    return useContext(GlobalContext)\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAClE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG1B,MAAMC,GAAG,GAAC,+BAA+B;AAGzC,MAAMC,aAAa,gBAAGR,KAAK,CAACC,aAAa,CAAC,CAAC;AAE3C,OAAO,MAAMQ,cAAc,GAACA,CAAC;EAACC;AAAQ,CAAC,KAAG;EAAAC,EAAA;EAE1C,MAAM,CAACC,OAAO,EAACC,UAAU,CAAC,GAACV,QAAQ,CAAC,EAAE,CAAC;EACvC,MAAM,CAACW,QAAQ,EAACC,WAAW,CAAC,GAACZ,QAAQ,CAAC,EAAE,CAAC;EACzC,MAAM,CAACa,KAAK,EAACC,QAAQ,CAAC,GAACd,QAAQ,CAAC,IAAI,CAAC;EAErC,MAAMe,SAAS,GAAG,MAAMC,MAAM,IAAG;IAC7B,MAAMD,SAAS,GAAG,MAAOC,MAAM,IAAK;MAChC,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,GAAGd,GAAG,YAAY,EAAEY,MAAM,CAAC;QAC7DG,UAAU,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,OAAON,KAAK,EAAE;QACZ,IAAIA,KAAK,CAACI,QAAQ,EAAE;UAChB;UACA;UACA,IAAIJ,KAAK,CAACI,QAAQ,CAACG,IAAI,IAAIP,KAAK,CAACI,QAAQ,CAACG,IAAI,CAACC,OAAO,EAAE;YACpDP,QAAQ,CAACD,KAAK,CAACI,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC;UACzC,CAAC,MAAM,IAAIR,KAAK,CAACI,QAAQ,CAACG,IAAI,EAAE;YAC5B;YACAN,QAAQ,CAACD,KAAK,CAACI,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAE;UACpC,CAAC,MAAM;YACHN,QAAQ,CAACD,KAAK,CAACI,QAAQ,CAACK,UAAU,IAAI,4BAA4B,CAAC;UACvE;QACJ,CAAC,MAAM,IAAIT,KAAK,CAACU,OAAO,EAAE;UACtB;UACA;UACA;UACAT,QAAQ,CAAC,uCAAuC,CAAC;QACrD,CAAC,MAAM;UACH;UACAA,QAAQ,CAAC,gCAAgC,GAAGD,KAAK,CAACQ,OAAO,CAAC;QAC9D;MACJ;IACJ,CAAC;EACL,CAAC;EACD,MAAMF,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMF,QAAQ,GAAG,MAAMhB,KAAK,CAACuB,GAAG,CAAC,GAAGpB,GAAG,aAAa,CAAC;IACrDM,UAAU,CAACO,QAAQ,CAACG,IAAI,CAAC;IACzBK,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACG,IAAI,CAAC;EAC9B,CAAC;EAEG,oBACIjB,OAAA,CAACE,aAAa,CAACsB,QAAQ;IAACC,KAAK,EAAE;MAC3Bb;IACJ,CAAE;IAAAR,QAAA,EACGA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAGjC,CAAC;AAAAxB,EAAA,CAjDYF,cAAc;AAAA2B,EAAA,GAAd3B,cAAc;AAmD3B,OAAO,MAAM4B,gBAAgB,GAACA,CAAA,KAAI;EAAAC,GAAA;EAC9B,OAAOpC,UAAU,CAACM,aAAa,CAAC;AACpC,CAAC;AAAA8B,GAAA,CAFYD,gBAAgB;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}