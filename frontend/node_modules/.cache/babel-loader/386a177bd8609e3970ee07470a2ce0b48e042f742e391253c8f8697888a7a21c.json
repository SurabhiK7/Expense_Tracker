{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\E_T\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst URL = \"http://localhost:5077/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const addIncome = async income => {\n    try {\n      const response = await axios.post(`${URL}add-income`, income);\n      getIncomes();\n    } catch (error) {\n      if (error.response) {\n        if (error.response.data && error.response.data.message) {\n          setError(error.response.data.message);\n        } else if (error.response.data) {\n          setError(error.response.data);\n        } else {\n          setError(error.response.statusText || \"An unknown error occurred.\");\n        }\n      } else if (error.request) {\n        setError(\"No response received from the server.\");\n      } else {\n        setError(\"Error setting up the request: \" + error.message);\n      }\n    }\n  };\n  const getIncomes = async () => {\n    const response = await axios.get(`${URL}get-incomes`);\n    setIncomes(response.data);\n    console.log(response.data);\n  };\n  const deleteIncome = async id => {\n    const res = await axios.delete(`${URL}delete-income/${id}`);\n    getIncomes();\n  };\n  const totalIncome = () => {\n    let totalIncome = 0;\n    incomes.forEach(income => {\n      totalIncome = totalIncome + income.amount;\n    });\n    return totalIncome;\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome,\n      getIncomes,\n      incomes,\n      deleteIncome\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalProvider, \"sRm99PiA1mhV3u/JW/QBjyFd/HU=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","axios","jsxDEV","_jsxDEV","URL","GlobalContext","GlobalProvider","children","_s","incomes","setIncomes","expenses","setExpenses","error","setError","addIncome","income","response","post","getIncomes","data","message","statusText","request","get","console","log","deleteIncome","id","res","delete","totalIncome","forEach","amount","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["C:/Users/Asus/Downloads/E_T/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react'\r\nimport axios from 'axios';\r\n\r\n\r\nconst URL=\"http://localhost:5077/api/v1/\";\r\n\r\n\r\nconst GlobalContext = React.createContext()\r\n\r\nexport const GlobalProvider=({children})=>{\r\n\r\nconst [incomes,setIncomes]=useState([])\r\nconst [expenses,setExpenses]=useState([])\r\nconst [error,setError]=useState(null)\r\n\r\nconst addIncome = async(income)=>{ \r\n    try {\r\n        const response = await axios.post(`${URL}add-income`, income);\r\n        getIncomes();\r\n    } catch (error) {\r\n        if (error.response) {\r\n            if (error.response.data && error.response.data.message) {\r\n                setError(error.response.data.message);\r\n            } else if (error.response.data) {\r\n                setError(error.response.data);\r\n            } else {\r\n                setError(error.response.statusText || \"An unknown error occurred.\");\r\n            }\r\n        } else if (error.request) {\r\n            setError(\"No response received from the server.\");\r\n        } else {\r\n            setError(\"Error setting up the request: \" + error.message);\r\n        }\r\n    }\r\n};\r\n\r\nconst getIncomes = async () => {\r\n    const response = await axios.get(`${URL}get-incomes`)\r\n    setIncomes(response.data)\r\n    console.log(response.data)\r\n}\r\nconst deleteIncome = async (id) => {\r\n    const res  = await axios.delete(`${URL}delete-income/${id}`)\r\n    getIncomes()\r\n}\r\nconst totalIncome = () => {\r\n    let totalIncome = 0;\r\n    incomes.forEach((income) =>{\r\n        totalIncome = totalIncome + income.amount\r\n    })\r\n\r\n    return totalIncome;\r\n}\r\n    return (\r\n        <GlobalContext.Provider value={{\r\n            addIncome,\r\n            getIncomes,\r\n            incomes,\r\n            deleteIncome\r\n        }}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport const useGlobalContext=()=>{\r\n    return useContext(GlobalContext)\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}